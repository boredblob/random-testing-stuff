{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","useState","tree","setTree","window","history","state","sessionStorage","getItem","URLSearchParams","URL","location","href","search","get","dir","setDir","useEffect","fetch","then","response","ok","json","responseTree","onpopstate","tempDir","setItem","className","onClick","src","alt","Explorer","elements","currentDirChildren","treeDepth","split","length","i","path","startsWith","push","parseTree","map","f","type","Folder","folder","sha","File","file","unshift","back","pushState","encodeURIComponent","pop","fileSizeToString","size","fileSize","pow","Math","max","min","floor","log10","round","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7d0a08ed.chunk.js","sourcesContent":["import './App.css';\nimport { useEffect, useState } from 'react';\n\nexport default function App() {\n  const [tree, setTree] = useState(null);\n  const [dir, setDir] = useState(\n    window.history.state ||\n    sessionStorage.getItem(\"dir\") ||\n    new URLSearchParams(new URL(window.location.href).search).get(\"dir\") ||\n    \"web-stuff\"\n  );\n  useEffect(() => {\n    fetch(\"https://cool-api.herokuapp.com/tree\")\n    .then(response => {\n      if (response.ok) {\n        return response;\n      }\n    })\n    .then(response => response.json())\n    .then(responseTree => {\n      setTree(responseTree);\n    });\n  }, []);\n  window.onpopstate = () => {\n      const tempDir = window.history.state ||\n      new URLSearchParams(new URL(window.location.href).search).get(\"dir\") ||\n      \"web-stuff\";\n    setDir(tempDir);\n    sessionStorage.setItem('dir', tempDir);\n  };\n  return (\n    <div className=\"app\">\n      <header>\n        <a href=\"/\" onClick={() => sessionStorage.setItem('dir', \"web-stuff\")}>\n          <img src=\"/favicons/icon-144.png\" alt=\"Logo\"/>  \n        </a>\n      </header>\n      <Explorer tree={tree} dir={dir} setDir={setDir}></Explorer>\n    </div>\n  );\n}\n\nfunction Explorer({tree, dir, setDir}) {\n  if (tree === null) return <div></div>;\n  let elements = parseTree(tree, dir).map(f => {\n    if (f.type === \"tree\") return <Folder key={f.sha} folder={f} setDir={setDir}></Folder>\n    else return <File key={f.sha} file={f} dir={dir}></File>\n  });\n  // add back button if not in root\n  if (dir !== \"web-stuff\") elements.unshift(\n    <div key=\"back\" className=\"item\" onClick={() => window.history.back()}>\n      <img className=\"item-icon\" src=\"/icons/back.svg\" alt=\"back\"></img>\n    </div>\n  );\n  return (\n    <main className=\"explorer\">\n      {elements}\n    </main>\n  );\n}\n\nfunction Folder({folder, setDir}) {\n  return (\n    <div className=\"item\" onClick={() => {\n      setDir(folder.path);\n      sessionStorage.setItem('dir', folder.path);\n      window.history.pushState(folder.path, \"Testing - \" + folder.path, `?dir=${encodeURIComponent(folder.path)}`);\n    }}>\n      <img className=\"item-icon\" src=\"/icons/folder.svg\" alt=\"folder\"></img>\n      <span className=\"item-name\">{folder.path.split(\"/\").pop()}</span>\n    </div>\n  );\n}\n\nfunction File({file, dir}) {\n  return (\n    <a href={\"/\" + file.path} onClick={() => sessionStorage.setItem('dir', dir)}>\n      <div className=\"item\">\n        <img className=\"item-icon\" src=\"/icons/file.svg\" alt=\"file\"></img>\n        <span className=\"item-name\">{file.path.split(\"/\").pop()}</span>\n        <span className=\"item-size\">{fileSizeToString(file.size)}</span>\n      </div>\n    </a>\n  );\n}\n\nfunction parseTree(tree, dir) {\n  const currentDirChildren = [];\n  const treeDepth = dir.split(\"/\").length + 1;\n  for (let i = 0; i < tree.length; i++) {\n    // if on same branch at same depth then add to array for display\n    if (tree[i].path.startsWith(dir) && tree[i].path.split(\"/\").length === treeDepth) {\n      currentDirChildren.push(tree[i]);\n    }\n  };\n  return currentDirChildren;\n}\n\nfunction fileSizeToString(fileSize) {\n  const units = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\"];\n  const pow = Math.max(Math.min(Math.floor(Math.log10(fileSize) / 3), 5), 0);\n  return Math.round((fileSize / (1000**pow))*100)/100 + units[pow];\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}