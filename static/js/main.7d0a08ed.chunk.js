(this.webpackJsonptesting=this.webpackJsonptesting||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var s=n(1),i=n.n(s),c=n(4),r=n.n(c),a=(n(9),n(3)),o=(n(10),n(0));function h(){var e=Object(s.useState)(null),t=Object(a.a)(e,2),n=t[0],i=t[1],c=Object(s.useState)(window.history.state||sessionStorage.getItem("dir")||new URLSearchParams(new URL(window.location.href).search).get("dir")||"web-stuff"),r=Object(a.a)(c,2),h=r[0],u=r[1];return Object(s.useEffect)((function(){fetch("https://cool-api.herokuapp.com/tree").then((function(e){if(e.ok)return e})).then((function(e){return e.json()})).then((function(e){i(e)}))}),[]),window.onpopstate=function(){var e=window.history.state||new URLSearchParams(new URL(window.location.href).search).get("dir")||"web-stuff";u(e),sessionStorage.setItem("dir",e)},Object(o.jsxs)("div",{className:"app",children:[Object(o.jsx)("header",{children:Object(o.jsx)("a",{href:"/",onClick:function(){return sessionStorage.setItem("dir","web-stuff")},children:Object(o.jsx)("img",{src:"/favicons/icon-144.png",alt:"Logo"})})}),Object(o.jsx)(l,{tree:n,dir:h,setDir:u})]})}function l(e){var t=e.tree,n=e.dir,s=e.setDir;if(null===t)return Object(o.jsx)("div",{});var i=function(e,t){for(var n=[],s=t.split("/").length+1,i=0;i<e.length;i++)e[i].path.startsWith(t)&&e[i].path.split("/").length===s&&n.push(e[i]);return n}(t,n).map((function(e){return"tree"===e.type?Object(o.jsx)(u,{folder:e,setDir:s},e.sha):Object(o.jsx)(f,{file:e,dir:n},e.sha)}));return"web-stuff"!==n&&i.unshift(Object(o.jsx)("div",{className:"item",onClick:function(){return window.history.back()},children:Object(o.jsx)("img",{className:"item-icon",src:"/icons/back.svg",alt:"back"})},"back")),Object(o.jsx)("main",{className:"explorer",children:i})}function u(e){var t=e.folder,n=e.setDir;return Object(o.jsxs)("div",{className:"item",onClick:function(){n(t.path),sessionStorage.setItem("dir",t.path),window.history.pushState(t.path,"Testing - "+t.path,"?dir=".concat(encodeURIComponent(t.path)))},children:[Object(o.jsx)("img",{className:"item-icon",src:"/icons/folder.svg",alt:"folder"}),Object(o.jsx)("span",{className:"item-name",children:t.path.split("/").pop()})]})}function f(e){var t=e.file,n=e.dir;return Object(o.jsx)("a",{href:"/"+t.path,onClick:function(){return sessionStorage.setItem("dir",n)},children:Object(o.jsxs)("div",{className:"item",children:[Object(o.jsx)("img",{className:"item-icon",src:"/icons/file.svg",alt:"file"}),Object(o.jsx)("span",{className:"item-name",children:t.path.split("/").pop()}),Object(o.jsx)("span",{className:"item-size",children:d(t.size)})]})})}function d(e){var t=Math.max(Math.min(Math.floor(Math.log10(e)/3),5),0);return Math.round(e/Math.pow(1e3,t)*100)/100+["B","KB","MB","GB","TB","PB"][t]}var j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,13)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),i(e),c(e),r(e)}))};r.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(h,{})}),document.getElementById("root")),j()},9:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.7d0a08ed.chunk.js.map